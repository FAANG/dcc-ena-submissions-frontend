<div [hidden]="totalHits == 0">
  <ng-container *ngIf="!['protocolsamples','protocolfiles','protocolanalysis'].includes(target_type)"><hr></ng-container>

  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-between center"
       style="margin: 20px 0 20px 0;">
    <h3>Related {{displayTitle(target_type)}}</h3>

  </div>

  <div class="table-responsive">
    <mat-form-field style="width: 98%;">
      <mat-label>Search</mat-label>
      <input (keyup)="searchChanged($event)" matInput
             placeholder="Search">
    </mat-form-field>

    <div [hidden]="display_fields.length == 0 || !dataSource.data || dataSource.data.length == 0">
      <table mat-table matSort matSortDisableClear [dataSource]="dataSource" table-striped style="width: 100%">
        <ng-container [matColumnDef]=col *ngFor="let col of display_fields; let i = index">
          <ng-container>
            <th mat-header-cell class="table-header" *matHeaderCellDef mat-sort-header [disabled]="mode == 'private'"> {{display_fields[i]}} </th>
            <td mat-cell class="table-cell-data" *matCellDef="let item">
                  {{item[col]}}
            </td>
          </ng-container>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="display_fields"></tr>
        <tr mat-row *matRowDef="let row; columns: display_fields;"></tr>
      </table>
      <mat-paginator pageSize="10" [length]="totalHits"></mat-paginator>
    </div>


  </div>
</div>

